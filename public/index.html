<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  

  
  <title>Alex J Rolfe</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Alex J Rolfe">
<meta property="og:url" content="http://alexjrolfe.com/index.html">
<meta property="og:site_name" content="Alex J Rolfe">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Alex J Rolfe">
  
    <link rel="alternate" href="/atom.xml" title="Alex J Rolfe" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Alex J Rolfe</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Finding Needles in the Full Stack</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://alexjrolfe.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-HoistTheJollyRoger" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/02/02/HoistTheJollyRoger/" class="article-date">
  <time datetime="2019-02-02T12:13:13.000Z" itemprop="datePublished">2019-02-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/02/02/HoistTheJollyRoger/">Hoist The Jolly Roger</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>I recently stumbled across <a href="http://davidshariff.com/blog/preparing-for-a-front-end-web-development-interview-in-2017/" target="_blank" rel="noopener">this article</a> from David Shariff while I was looking for JavaScript exercises for my students at <a href="https://www.bloc.io/" target="_blank" rel="noopener">Bloc</a>. His article details topics across the entire front end that are extremely important, but what caught my eye in particular were the JavaScript concepts. In my continuous quest for <strong>JavaScript World Domination</strong>™ I thought this list was a great representation of &quot;topics that I sort of understand, but that have to Google when I'm pressed for details&quot; on, so I'm going to work through these concepts one by one to solidify my understanding.</p>
<h2>Is Hoisting Foisting You?</h2>
<p>Today I'm going to look at Hoisting. What I'm going to do is distill my own understanding of this topic into some useful examples that hopefully will make the topic clear. The worst case scenario is this only helps me, but maybe you'll find some benefit from these examples as well.</p>
<p>My goto for any grainy, tough JS subject is going to be first and foremost <a href="https://me.getify.com/" target="_blank" rel="noopener">Kyle Simpson</a> because his <em>You Don't Know JS</em> series does such a great job thoroughly breaking down these topics. Here are the selections that give the best background for what I'm going to discuss below:</p>
<ul>
<li><a href="https://github.com/getify/You-Dont-Know-JS/blob/master/scope%20%26%20closures/ch4.md" target="_blank" rel="noopener">Hoisting</a></li>
<li><a href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20%26%20beyond/ch2.md" target="_blank" rel="noopener">ES6 Syntax</a></li>
</ul>
<p>What I like to do when I'm bulking up on a topic is to go through his chapter on the relevant subject matter, then recreate all of his (very dry) examples with something that resonates more with me.<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup> I definitely recommend this approach for everyone. It's a great way to start to own the material and to get your dang fingers on the keyboard.</p>
<p>If you find that you enjoy Kyle's style and approach, you might consider picking up the <a href="https://www.amazon.com/gp/product/B01AY9P0P6/ref=as_li_tl?ie=UTF8&amp;camp=1789&amp;creative=9325&amp;creativeASIN=B01AY9P0P6&amp;linkCode=as2&amp;tag=rolfe-20&amp;linkId=363b17d9b041fe4e217621bdfbe2cee7" target="_blank" rel="noopener">whole series</a>.<br>
(I'm trying out the Amazon Affiliate program, so if you purchase the book from that link, I'll get something like 80 cents!)</p>
<h2>Hoisted By My Own Petard</h2>
<p>This topic is dear to my heart because it sent me into a near existential crisis when I first learned about it. <em>What do you mean the JS engine just <strong>moves</strong> my code after I've written it?</em> past-Alex asked, incredulous at the thought of things happening underneath the surface. <strong>JavaScript <em>moves</em> my code around while it runs?!</strong></p>
<p>No.</p>
<p>Well, not in the way that the term <em>hoisting</em> suggests. But it is a useful way to think about this behavior. You'll see the phrase &quot;hoistable&quot; pop up a lot if you go read the ECMA specs for JavaScript<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup>, so even the internal team finds the metaphor useful. But what actually happens is a little more nuanced. It warrants a whole post in of itself (see some of the Additional Reading below), but a sufficient summary might be: <em>JavaScript pulls declarations, but not initializations into memory before executing a block of code</em></p>
<p>When we talk about hoisting, we can talk about <em>Variable</em> hoisting and <em>Function</em> Hoisting. They behave pretty similarly, but there are a few distinctions to keep in mind, and so let's talk about them separately. Crack open your favorite <a href="https://jsbin.com" target="_blank" rel="noopener">REPL</a> environment and let's dive in.</p>
<h3>Variable Hoisting</h3>
<p>The first thing to keep in mind when we talk about hoisting is <em>declaration</em> versus <em>initialization</em>. Typically, you see these steps combined:</p>
<p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> dog = <span class="string">'Fido'</span>;</span><br></pre></td></tr></table></figure></p>
<p>In the line above, we both declare (<code>var dog</code>) and initialize (<code>dog = 'Fido'</code>) the variable dog. We don't usually think of these are separate steps, but from the perspective of the JS compiler, they are indeed distinct.</p>
<p>Case in point, what logs to the console here?</p>
<p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(dog);</span><br><span class="line"><span class="keyword">var</span> dog = <span class="string">'Fido'</span>;</span><br></pre></td></tr></table></figure></p>
<p>What about in this essentially identical question, presented with a little bit more of a cheeky setup?</p>
<p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> baz = <span class="number">10</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(foo);</span><br><span class="line">  <span class="keyword">var</span> foo = baz;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> foo = <span class="number">11</span>;</span><br><span class="line"></span><br><span class="line">bar();</span><br></pre></td></tr></table></figure></p>
<p>In both examples, the same principles are at play.</p>
<h4>Hulk Smash</h4>
<p>If you run the above code, you'll find that it returns <code>undefined</code> in both cases. This is where we use the &quot;hoisting&quot; metaphor to explain this behavior. Imagine that JavaScript literally <em>pulls apart</em> your variable assignments and then <em>hoists</em> the declarations up to the top of the scope that they are introduced in.</p>
<p>I like to imagine The Incredible Hulk leaping onto the scene, grabbing hold of your delicate variable, and rending it in two, tossing one half, the declaration, high up onto a building (the top of the block of scope you are in), before bounding off in search of other variables to harass.</p>
<p>The first examples becomes:</p>
<p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> dog;</span><br><span class="line"><span class="built_in">console</span>.log(dog);</span><br><span class="line">dog = <span class="string">'Fido'</span>;</span><br></pre></td></tr></table></figure></p>
<p>If you think back to how variables behave in JS, you might remember that <em>any declared but unassigned variable is assigned the data type <code>undefined</code> until it is initialized</em>.</p>
<p>Try the same exercise with my second example. You should come up with the following:</p>
<p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> foo;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> baz;</span><br><span class="line">  <span class="keyword">var</span> foo;</span><br><span class="line">  baz = <span class="number">10</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(foo);</span><br><span class="line">  foo = baz;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo = <span class="number">11</span>;</span><br><span class="line"></span><br><span class="line">bar();</span><br></pre></td></tr></table></figure></p>
<p>Notice that our hoisted variable declarations are brought to the top of their respective scopes.</p>
<h3>Function Hoisting</h3>
<p>Above, we covered the fact that variable declarations are &quot;hoisted&quot; to the top of their scope, but what about functions? At a glance, it seems like functions don't follow this rule of &quot;process the declaration before the initialization.&quot;</p>
<p>Put another way, why does this work?</p>
<p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">proclaimThisFact(<span class="string">"Pizza should not have eggs on it"</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">proclaimThisFact</span>(<span class="params">fact</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;fact&#125;</span>!`</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>Shouldn't we get an error of some sort? Maybe something telling us that <code>proclaimThisFact</code> is not a function? Why can we use this function before it is defined?</p>
<p>Remember that there are several ways to define a function in JavaScript. One way, used above, is called a <strong>function declaration</strong>. Alternatively, we could have written our function like this:</p>
<p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">proclaimThisFact(<span class="string">"Pizza should not have eggs on it"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> proclaimThisFact = <span class="function"><span class="keyword">function</span> (<span class="params">fact</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;fact&#125;</span>!`</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>This is called a <strong>function expression</strong>. Armed with your refined knowledge of how variable declarations behave, what do you think the difference is in behavior if you run my second example, modified to use a function expression?</p>
<p>It blows up! Just like we expected the first example to. And pay close attention to the error you get here. It's a <code>TypeError</code>, not a <code>ReferenceError</code> like you might expect. (To see the difference, try to call a function that doesn't exist at all: <code>defamePasta(&quot;linguini&quot;)</code>).</p>
<p>The error comes from the fact that we are asking our variable to be a function before it has been initialized as one:</p>
<p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> proclaimThisFact; <span class="comment">// proclaimThisFact is undefined</span></span><br><span class="line">proclaimThisFact(<span class="string">"Pizza should not have eggs on it"</span>); <span class="comment">// JS Engine: "lol wut is this thing"</span></span><br><span class="line"><span class="comment">// TypeError!</span></span><br><span class="line"></span><br><span class="line">proclaimThisFact = <span class="function"><span class="keyword">function</span> (<span class="params">fact</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;fact&#125;</span>!`</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3>ES6's let and const</h3>
<p><code>let</code> and <code>const</code> are ES6 compliments to the original JavaScript syntax. They are interesting, helpful additions to the language for a variety of reasons, but for the purposes of our discussion of hoisting, we'll  just talk about one specific behavior, which is:</p>
<h4>let and const are not hoisted</h4>
<p>When a variable is declared using either <code>const</code> or <code>let</code>, it is not hoisted in the way that we see above with <code>var</code>. Instead, its point of declaration is treated &quot;in-line.&quot; Essentially, it behaves closer to the way it looks in the written code.</p>
<p>Take my original example, but we replace <code>var</code> with <code>const</code>:</p>
<p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(dog);</span><br><span class="line"><span class="keyword">const</span> dog = <span class="string">'Fido'</span>;</span><br></pre></td></tr></table></figure></p>
<p>Bam! We get hit with a reference error! And I argue, this is preferable to what we see as a result of hoisting + <code>var</code>. It's much better to trigger an error like this in development than to chase down strange bugs that are caused as a side effect of your variables sneaking around with <code>undefined</code> values. For that reason, I take the approach of always using <code>const</code><sup class="footnote-ref"><a href="#fn3" id="fnref3">[3]</a></sup> for my variables, rather than <code>var</code>. I haven't found any compelling reasons to use <code>var</code> when <code>const</code>/<code>let</code> are available to me.<sup class="footnote-ref"><a href="#fn4" id="fnref4">[4]</a></sup></p>
<p>A best practice that Kyle Simpson suggests in the above mentioned sources is to declare all of the variables you will be using at the tops of their relevant scopes:</p>
<p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">bar();</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> foo;</span><br><span class="line">  <span class="keyword">const</span> baz = <span class="number">10</span>;</span><br><span class="line">  </span><br><span class="line">  foo = baz;</span><br><span class="line">  <span class="built_in">console</span>.log(foo);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3>Key Takeaways</h3>
<ul>
<li>Just use <code>let</code> and <code>const</code> to avoid this nonsense</li>
<li>Only declarations are hoisted, not initializations</li>
<li>Function declarations (<code>function lookAtThisPizza() { ... }</code>) are fully hoisted</li>
<li>In function expressions (<code>var lookAtThisPizza = function () { ... }</code>), only the variable is hoisted</li>
</ul>
<p>While ES6's <code>const</code> and <code>let</code> allow us a comfortable way to side step this issue by simply declaring our variables at the tops of our scopes and carrying on like civilized people, it is important to understand <code>var</code>'s hoisting behavior. For one, JavaScript is the most ubiquitous language in use on the web and there are millions of lines of code running in production today that were created pre-ES6. You may one day have to maintain or refactor some of that code, and knowing why it behaves the way it does will be helpful.</p>
<p>Furthermore, <a href="https://caniuse.com/#search=let" target="_blank" rel="noopener"><code>let</code></a> and <a href="https://caniuse.com/#search=const" target="_blank" rel="noopener"><code>const</code></a> don't have complete browser support, so if you're forced to continue support for IE10 or something similar, you may need to hoist yourself up by your own bootstraps and navigate this quirk of the JavaScript language.</p>
<h3>Additional Reading</h3>
<ul>
<li><a href="https://github.com/getify/You-Dont-Know-JS/blob/master/scope%20%26%20closures/ch4.md" target="_blank" rel="noopener">You Don't Know JS</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Glossary/Hoisting" target="_blank" rel="noopener">MDN's Glossary Entry</a></li>
<li><a href="http://davidshariff.com/blog/what-is-the-execution-context-in-javascript/" target="_blank" rel="noopener">David Shariff on Execution Context</a></li>
</ul>
<h3>Footnotes</h3>
<hr class="footnotes-sep">
<section class="footnotes">
<ol class="footnotes-list">
<li id="fn1" class="footnote-item"><p>Generally, food based examples decrying improper pizza toppings or other less worthy snack foods. <a href="#fnref1" class="footnote-backref">↩</a></p>
</li>
<li id="fn2" class="footnote-item"><p>You know, for fun. <a href="#fnref2" class="footnote-backref">↩</a></p>
</li>
<li id="fn3" class="footnote-item"><p>I try to default to <code>const</code> and then change to <code>let</code> only when necessary. <a href="#fnref3" class="footnote-backref">↩</a></p>
</li>
<li id="fn4" class="footnote-item"><p>Outside of writing examples for people running into this problem, of course. <a href="#fnref4" class="footnote-backref">↩</a></p>
</li>
</ol>
</section>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://alexjrolfe.com/2019/02/02/HoistTheJollyRoger/" data-id="cjrng3f6w000bmxp4em1xpjnx" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript-ES6/">JavaScript, ES6</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-civic-engagement-with-react" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/07/14/civic-engagement-with-react/" class="article-date">
  <time datetime="2017-07-14T18:04:19.000Z" itemprop="datePublished">2017-07-14</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Uncategorized/">Uncategorized</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/07/14/civic-engagement-with-react/">Civic Engagement With React</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>I built <a href="https://you-work-for-me.netlify.com/" target="_blank" rel="noopener">You Work For Me</a> as part of the last quarter of my bloc.io program. The curriculum covers the Ruby/Rails and JavaScript/AngularJs stacks, but, having not had a great time with AngularJs, I was interested in exploring something new. My mentor suggested I try React.</p>
<h3>The Initial Idea</h3>
<p>This time coincided with the Fall 2016 elections in the US, and I felt motivated to create something to encourage people to engage more in our political processes. I decided to build something that makes it easier to contact your congressional representatives. Below, I describe in more detail what my site, named You Work For Me, does and how I put it together. I finish with some ideas about the direction I’d like to take future development. The basic form of the app is as follows: a user navigates to the site and is presented with the contact information of their three congressional representatives. While simple, this foundation was easy to understand so that I was able to focus on learning React as well, and contains a basic set of features that I can augment in the future. The way YWFM gets and presents the congressional data is relatively straightforward. First, it takes the latitude and longitude of the user from the geolocation object in the browser, then sends an API request to the Sunlight Foundation’s Congress API, and finally, displays that data in a useful format to the user.</p>
<h3>Some Details</h3>
<p>I access the user’s location when they first navigate to the site. The WebAPI has documentation on how the geolocation object behaves, but the basics are pretty straight forward. You ask for the latitude and longitude, the browser then asks the user if that is ok, and if they accept, an asynchronous request is made which returns an object that contains that information. I used a great library to modify the geolocation behavior into something more React savvy. <a href="https://github.com/no23reason/react-geolocated" target="_blank" rel="noopener">React-Geolocated</a> allows you to wrap an existing component, passing the geolocation details as props. This makes accessing and reasoning with the latitude and longitude as simple as</p>
<p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> lat = props.coords.latitude;</span><br><span class="line"><span class="keyword">const</span> long = props.coords.longitude;</span><br></pre></td></tr></table></figure></p>
<p>React’s <code>componentWillReceiveProps</code> method makes it a simple matter to wait for the location data to load as well. It will run when the props are updated in the app with the coordinates of the user:</p>
<p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">componentWillReceiveProps(nextProps) &#123;</span><br><span class="line">    <span class="keyword">if</span> (nextProps.coords !== <span class="literal">null</span>) &#123;</span><br><span class="line">        useUserLocationToMakeADifference(coords);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>The <a href="https://sunlightlabs.github.io/congress/" target="_blank" rel="noopener">Sunlight Foundation’s Congress API</a> is a really exciting tool. Although they’ve announced recently that they are moving over management of this API to ProPublica, it is still currently hosted at their old URL and doesn’t require an API key to function. I’m not sure what the timeline is on this transition, but both parties have been quick to respond to any inquiries I’ve had about the API and are obviously doing great civic work by giving free access of this data to the public. The call I’m making to the API is very straightforward. After I have the user’s location, I simply format that into a request like this</p>
<p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">    fetch(<span class="string">`https://congress.api.sunlightfoundation.com/legislators/locate?latitude=<span class="subst">$&#123;lat&#125;</span>&amp;amp;longitude=<span class="subst">$&#123;long&#125;</span>`</span>)</span><br><span class="line"><span class="string">``</span><span class="string">` </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">At this point it’s just a matter of formatting and presenting the response data. I pull out the relevant data from the results objects, in this case the name, phone number, and email address of each legislator. I wrote some helper methods that I won’t detail here, but the basic implementation looks a like this</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>js</span><br><span class="line">    extractName(<span class="keyword">this</span>.state.repArray[<span class="number">0</span>])</span><br><span class="line">    extractPhone(<span class="keyword">this</span>.state.repArray[<span class="number">0</span>])</span><br><span class="line">    extractEmail(<span class="keyword">this</span>.state.repArray[<span class="number">0</span>])</span><br></pre></td></tr></table></figure></p>
<p>Finally, I used an interesting trick that my mentor, Brian Douglas, showed me for rigging up an ajax spinner while the data is being fetched. When the component is mounted, the <code>repArray</code> is set to null, so I can use that state to track when the data is ready to display by using a ternary operator to render either the data or a loader.</p>
<pre><code class="language-js">    render () {
        return this.state.repArray ?
            &lt;LegislatorData 1&gt;
            &lt;LegislatorData 2&gt;
            &lt;LegislatorData 3&gt;
        : &lt;AjaxLoader&gt;
    }
</code></pre>
<h3>Next Steps</h3>
<p>Midway through the development of YWFM I was fortunate enough to get a job. Between moving to Madison, WI and getting ramped up on a new technology stack, I had to put the development of several features on hold. Probably the most pressing need is to allow the user to enter their own location if they don’t want to or cannot allow the browser to access their physical location. My goal was to get the legislative contact information in front of a user in as few steps as possible, but now I need to gracefully handle that absence of the user’s location. Along the lines of “basic usability,” the app doesn’t look fantastic on mobile devices at the moment, so some work needs to be done on adjusting the styling and formatting to account for different screen sizes. I want to have the option for a user to set up reminders to call their representatives regularly. Either by having an option to populate a calendar on the device used to access the data, regular email reminders, or setting up text reminders with a service like Twilio. I think it would be interesting to be able to present recent congressional activity, whether that is votes or other recorded data. This could simply be displayed at the landing page for each legislator, or a user could similarly opt in to text or email notifications. Adding more features to the core features of the app could potentially complicate the management of state, so I am interested in adding the Redux library as a way to manage state in the app. If the idea of civic engagement through programming is interesting to you, let’s get involved! Help with any of the features above, other ideas, or even just a little help refactoring are more than welcome. <a href="https://github.com/rolfea/you-work-for-me" target="_blank" rel="noopener">Let’s work together</a> to make it easier for citizens to tell their legislators: “You work for me!”</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://alexjrolfe.com/2017/07/14/civic-engagement-with-react/" data-id="cjrng3f670001mxp4rtivd2bl" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-separating-the-location-features" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/01/15/separating-the-location-features/" class="article-date">
  <time datetime="2017-01-15T20:17:27.000Z" itemprop="datePublished">2017-01-15</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Uncategorized/">Uncategorized</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/01/15/separating-the-location-features/">Separating the Location Features</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="http://youworkforme.netlify.com/" target="_blank" rel="noopener">You Work for Me</a> is an app I’m building as a way to learn React. YWFM uses the Web API’s geolocation capabilities alongside the Sunlight Lab Congress API to determine the user’s congressional representatives, supplying them with contact information. My mentor, <a href="https://briandouglas.me/" target="_blank" rel="noopener">Brian</a>, and I decided that the functionality that determines the location and correct legislators would be a good candidate to abstract away from this app into a separate library. I decided to use the <a href="https://github.com/survivejs/react-component-boilerplate" target="_blank" rel="noopener">SurviveJS component boiler plate</a> to generate the base for my library. I made this decision for the sake of time. I know I will learn a lot when I set up my own boilerplate, but for now I’d rather have my project ready to demonstrate at an interview than get stuck in the weeds trying to configure a whole mess of dependencies just to get off the ground. The SurviveJS boilerplate is very simple to set up. As per their instructions, just clone the repo, remove the .git file and run <code>git init</code> to hook up the cloned folder to your own repository instead. Finally, use <code>npm install</code> to install the dependencies. I want to hone down my library to do one specific task really well, so rather than offering a suite of location based services, the library will provide the congressional district of the user, based on the location returned by the Geolocation API. Because a user must give the browser permission, the library needs to have a graceful default if permission isn’t granted or if geolocation isn’t enabled or possible for some reason. The first steps I need to complete in order to have this library functioning are as follows:</p>
<ul>
<li>
<p>Test the API that returns district numbers, seeing what form the returned data takes</p>
</li>
<li>
<p>Insert that API into my current app to bring in the district numbers</p>
</li>
<li>
<p>ID the correct rep. for the user and provide their contact information</p>
</li>
</ul>
<p>After some ugly moments in which I remembered how much fun it is to play with promises in JavaScript, the API is finally returning what I need: an object with state and district values. This example uses the JavaScript Fetch API to issue a call to the Sunlight Labs’ district lookup method. We pass in the sample latitude and longitude (or replace with your own) from the API documentation. This call returns a promise object, so we’ll use the <code>.then</code> method to pass a callback that waits for the response object and then calls <code>.json()</code> on it when received. Because <code>.json</code> also returns a promise, we’ll use <code>.then()</code> again and just log the results of our response so we can look at it. If you’re following along, you can test the logic right now. Just open the developer tools in your browser and try out the commands below:</p>
<p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> lat = <span class="number">42.96</span></span><br><span class="line"><span class="keyword">const</span> long = <span class="number">-108.09</span></span><br><span class="line"></span><br><span class="line">fetch(\<span class="string">`https://congress.api.sunlightfoundation.com/districts/locate?latitude=<span class="subst">$&#123;lat&#125;</span>&amp;longitude=<span class="subst">$&#123;long&#125;</span>\`).then(</span></span><br><span class="line"><span class="string">  (res) =&gt; res.json().then(</span></span><br><span class="line"><span class="string">    (jsonObject) =&gt; console.log(jsonObject.results\\\[0\\\])</span></span><br><span class="line"><span class="string">  )</span></span><br><span class="line"><span class="string">)</span></span><br></pre></td></tr></table></figure></p>
<p>(Also take a moment to appreciate how nice this looks with ES6 arrow functions!) In the following post I’ll walk through pulling out the location service, the political api, and wrapping it into a single library. I’ll also cover writing tests for that library and publishing it to NPM.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://alexjrolfe.com/2017/01/15/separating-the-location-features/" data-id="cjrng3f6c0004mxp43efzkjeh" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-enter-the-eloquence-eloquent-javascript-chapter-2" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/11/29/enter-the-eloquence-eloquent-javascript-chapter-2/" class="article-date">
  <time datetime="2016-11-29T23:09:21.000Z" itemprop="datePublished">2016-11-29</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Uncategorized/">Uncategorized</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/11/29/enter-the-eloquence-eloquent-javascript-chapter-2/">Enter the Eloquence - Eloquent JavaScript, Chapter 2</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>I'm aiming to bring my JavaScript chops up a level or two, and I've decided to address this first by working through all of <a href="http://eloquentjavascript.net/" target="_blank" rel="noopener">Eloquent JavaScript</a> by Marijin Haverbeke. I'm going to do each chapter's exercises and post them here with my thoughts. This will have the benefit of forcing me to clarify my thinking on the solutions, and it could also help someone else who might be struggling with the ideas. The book is definitely a dense read. So far, the first two chapters are written in a style that is not quite conversational and not quite formal. It has the odd effect on me of an almost instant-glaze over, which is requiring a slower reading pace. This probably exacerbated by the fact that I'm using a e-book version, not a hard copy. Slowing down my pace of reading is fine though, since I don't want to miss any details in my deep-dive into this language! So, without further ado:<br>
<strong>Loops to Make a Triangle</strong></p>
<p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Looping a Triangle</span></span><br><span class="line"><span class="comment">// For Loop</span></span><br><span class="line"><span class="keyword">var</span> hashTriangle = <span class="string">""</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt;= <span class="number">7</span>; i++) &#123;</span><br><span class="line">  hashTriangle += <span class="string">"#"</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(hashTriangle);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// While Loop</span></span><br><span class="line">hashTriangle = <span class="string">""</span></span><br><span class="line"><span class="keyword">while</span> (hashTriangle.length &lt;= <span class="number">7</span>) &#123;</span><br><span class="line">  hashTriangle += <span class="string">"#"</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(hashTriangle);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>Not much to say here. I decided to try two simple implementations, one with a for-loop and the other with a while-loop. <strong>The Fizz Buzz Problem</strong></p>
<p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Fizz Buzz</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;= <span class="number">20</span>; i ++) &#123;</span><br><span class="line">  divByThree = (i % <span class="number">3</span> == <span class="number">0</span>);</span><br><span class="line">  divByFive = (i % <span class="number">5</span> == <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (divByThree &amp;&amp; divByFive) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"FizzBuzz"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (divByFive) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"Buzz"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (divByThree) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"Fizz"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>Whenever I work on a FizzBuzz type of challenge, I have a nagging feeling in the back of my mind that I'm doing extremely naive work and that there is a much fancier, elegant way to solve the problem than I have discovered so far. <a href="http://ditam.github.io/posts/fizzbuzz/" target="_blank" rel="noopener">It would seem that this is the case</a>, but I'm not going to worry about that for now. This being my third time thinking through the problem at some length greater than 30 minutes, I'm happy with my smallish refactoring, that being that I saved the results of the modulo operations to variables to avoid repeating the operation unnecessarily. <strong>Create a Chess Board String</strong></p>
<p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Chess Board String</span></span><br><span class="line"><span class="keyword">var</span> chessBoard = <span class="string">""</span>;</span><br><span class="line"><span class="keyword">var</span> size = <span class="number">8</span>;</span><br><span class="line"><span class="comment">// set height</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">  <span class="comment">// set each row</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; size / <span class="number">2</span>; j++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (i % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">      chessBoard += <span class="string">"# "</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      chessBoard += <span class="string">" #"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  chessBoard += <span class="string">"\\n"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(chessBoard);</span><br></pre></td></tr></table></figure></p>
<p>This was an interesting problem to play with. I think my biggest hang-up was simply that I struggled to get away from the notion of implementing this as a 2D array, rather than a formatted string. I may come back to this, as I feel there are more interesting, compact solutions available than what I came up with. So, there are my solutions to the three exercises from Eloquent JavaScript, chapter 2. If you found interesting ways to solve any of them, please let me know. I love being shown how weak my Kung-Fu is, so have at me!</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://alexjrolfe.com/2016/11/29/enter-the-eloquence-eloquent-javascript-chapter-2/" data-id="cjrng3f630000mxp4u2shn2z3" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-hello-world" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/11/26/hello-world/" class="article-date">
  <time datetime="2016-11-26T22:15:53.000Z" itemprop="datePublished">2016-11-26</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Uncategorized/">Uncategorized</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/11/26/hello-world/">Entering the World of OSS</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>I am beginning the final quarter of my <a href="http://bloc.io" target="_blank" rel="noopener">Bloc.io</a> curriculum today.</p>
<p>This quarter is called the “Open-Source Apprenticeship,” and it asks me to create my own open-source software (OSS) project and to make ten significant contributions to other projects.</p>
<p>I started my coursework with Bloc almost exactly a year ago from the day I’m writing this: November 23rd, 2015. It was a huge leap of faith to trust an essentially unproven model: a web-development “bootcamp” taking place entirely online (I’ve stopped calling this a “boot-camp” for a variety of reasons that I’ll be writing about later). But I girded my loins and made the last step in a pivot away from my music career diving in head first to 40+ hour weeks full of study, practice, and 1-on-1 meetings with my mentors.</p>
<p>In that time I’ve learned so much! My coursework covered Back-End and Front-End web development technologies, mainly Ruby, Rails, Javascript, JQuery, and AngularJS. It focused on lots of “non-coding software developer skills,” like version control with git and GitHub, test-driven development with RSpec, and tons of code review and pair-programming with my professional mentors. In my third quarter, which I just finished, I got a chance to learn about the bigger-picture topics that are covered in computer science courses. I implemented many of the common data structures and algorithms, built an ORM reminiscent of Active Record, and made a Rails clone in order to better understand the decisions web engineers make in organizing code, handling routing concerns, and setting up a framework to handle the traditional MVC model.</p>
<p>So, with all that work behind me now, the prospect of jumping into the OSS community to see what I can accomplish is exciting, to say the least. I’ve been brainstorming on several different personal projects that have potential and taking note of tools that I use frequently that I could start to contribute to myself.</p>
<p>Some other goals I have for myself for the next three months are:</p>
<ul>
<li><a href="http://eloquentjavascript.net/" target="_blank" rel="noopener">level up</a> my Javascript skills</li>
<li>investigate different JS frameworks</li>
<li>find a great testing suite for Javascript development</li>
<li>making <a href="http://pryrepl.org/" target="_blank" rel="noopener">Pry</a> another component of my Ruby debugging process</li>
<li><a href="https://chicagoruby.org/" target="_blank" rel="noopener">go to Chicago</a> at least twice a month to meet other developers</li>
<li>clean up my prior projects from <a href="https://www.bloc.io/" target="_blank" rel="noopener">Bloc</a> for my portfolio</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://alexjrolfe.com/2016/11/26/hello-world/" data-id="cjrng3f6b0003mxp4ky2herx0" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Uncategorized/">Uncategorized</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript-ES6/">JavaScript, ES6</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/JavaScript-ES6/" style="font-size: 10px;">JavaScript, ES6</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/02/02/HoistTheJollyRoger/">Hoist The Jolly Roger</a>
          </li>
        
          <li>
            <a href="/2017/07/14/civic-engagement-with-react/">Civic Engagement With React</a>
          </li>
        
          <li>
            <a href="/2017/01/15/separating-the-location-features/">Separating the Location Features</a>
          </li>
        
          <li>
            <a href="/2016/11/29/enter-the-eloquence-eloquent-javascript-chapter-2/">Enter the Eloquence - Eloquent JavaScript, Chapter 2</a>
          </li>
        
          <li>
            <a href="/2016/11/26/hello-world/">Entering the World of OSS</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 Alex Rolfe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>